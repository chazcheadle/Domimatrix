<html>
    <head>
        <title>Domimatrix: DOM Ruleset Test</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <script src="./tinymce/js/tinymce/tinymce.min.js"></script>
        <script src="./ruleset.js"></script>
        <script>
            // Simple definition of rules.
            var relatedPos = 2; // Place related content after this paragraph.
            var recommendedPos = 50; // Desired percentage to split content.
            var recommendedMin = 4; // Minimum number of paragraphs before recommended content can be shown.

            tinymce.init({
                selector: 'textarea',
                height: 800,
                menubar: false,
                plugins: [
                    'domimatrix',
                    'advlist autolink lists link image charmap print preview anchor textcolor',
                    'searchreplace visualblocks code fullscreen',
                    'insertdatetime media table paste code help wordcount'
                ],
                toolbar: 'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help',
                content_css: [
                    '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
                    '//www.tiny.cloud/css/codepen.min.css'
                ],
            });
        </script>
    </head>

    <body onLoad="processRules()">
        <div class="container">
            <div class="row"><h1 class="text-center">DOM manipulation with predefined rules matrix</h1></div>
            <div class="row">
                <div class="col-6 border"><h2>Realtime Processing</h2>
                    Type or Paste text into the Editor.</br>
                    <p class="small">Note: Pasted text requires a blur action.</p>
                    <div id='editor' class="col">
                        <textarea id='textarea'></textarea>
                    </div>
                </div>
                <div id='ruleset' class="col-6 border">
                    <h2>Ruleset Demo</h2>
                    Apply a Ruleset to content.</br>
                    <p class="small">Note: These rules differ from the WYSIWIG's.</br>
                    Note2: See the console for rules.</p>
                    <div class="col"><strong>Choose a content rule:</strong>
                        <select id="chooser" name="chooser" onChange="processRules()">
                            <option value="">None...</option>
                            <option value="article">Article</option>
                            <option value="vertical">Vertical</option>
                            <option value="dickens">Dickens</option>
                        </select>
                        <div id='contentDiv' class="small"></div>
                    </div>
                </div>
            </div>
        </div>
    </body>

</html>

